# JavaScript　配列メソッドまとめ
よく使う配列操作メソッドを簡潔に整理します。

コールバック関すの基本構文：
```js
array.method((value, index, array) => { ... });
```

## 1. `map()`
各要素を変換して新しい配列を返すメソッドです。配列の全ての要素それぞれに対して特定の操作を行なって新しい配列に変換します。
```js
const nums = [1,2,3];
const doubled = nums.map(n => n*2); //[2,4,6]
```

元の配列は変更しません。主にデータ変換に使用します。

## 2. `filter()`
条件に合う要素だけを残して新しい配列を作成します。
```js
const nums = [1,2,3,4];
const even = nums.filter(n => n%2 === 0); //[2,4]
```
コールバック関数には真偽値（0か1）を返す関数を渡します。

## 3. `find`
最初に一致した要素を返します。返り値は値です。
```js
const users = [{id:1}, {id:2}];
const user = users.find(u => u.id ===2); //{id:2}
```

## 4. `forEach()`
各要素に対して処理を実行します。返り値はありません。
```js
const nums = [1,2,3];
nums.forEach(n=> console.log(n));
```

## 5. `reduce()`
基本構文
```js
array.reduce((acc, value, index, array) => {...},initialValue);
```
acc : accumulatorの略で、**累積値**のことです。前回の返り値を示します。
配列の各要素に対して「前回までの結果(acc)」と「今の値(value)」を使って処理を繰り返し、**最終的に１つの値にまとめ**ます。
```js
const nums = [1,2,3,4];
const sum = nums.reduce((acc,n)=> acc + n, 0); //10
```

## 6. `some()`/`every()`
配列の要素が条件を満たしているかをチェックするメソッドで、どちらも真偽値（true/false）を返す関数です。

`some()` : 配列の中に条件を満たす要素が**1つでもあれば**`true`を返す。
`every()` : **全ての要素**が条件を満たしている場合のみ`true`を返す。
```js
const nums = [1,5,8,10];

const hasBig = numbers.some(n => n>7); //true
const allBig = numbers.every(n => n>7); //false
```
## 7. `includes()`
配列に**特定の値が含まれているか**を調べるメソッドです。見つかれば`true`、なければ`false`を返します。
```js
const fruits = ["apple", "banana", "orange"];

console.log(fruits.includes("banana")); //true
console.log(fruits.includes("grape")); //false
```
- 大文字・小文字は区別される("Apple" ≠ "apple")
- 第二引数で検索の開始位置も指定できる(`includes("banana",2)`)

## 8. `indexOf()`/`lastIndexOf()`
配列の中で、**指定した値が現れる位置**を返すメソッドです。

`indexOf()` : 配列の中で、指定した値が**最初に**現れる位置を返します。
`lastIndexOf()` : 配列の中で、指定した値が**最後に**現れる位置を返します。

指定した値が見つからない場合は`-1`を返します。
```js
const colors = ["red", "blue", "green", "blue"];
console.log(colors.lastIndexOf("blue")); // 3(最後のblue)
```

## 9. `sort()`
配列の要素を**並び替える**メソッドです。デフォルトでは文字列として並び替えを行います。

下の配列自体が変更される点に注意が必要です。(**破壊的メソッド**)
```js
const fruits = ["banana", "apple", "cherry"];
fruits.sort();
console.log(fruits); // ["apple", "banana", "cherry"]
```
数値を並び替える場合は、デフォルトだと文字列順（例：[10,2,5]）になるため、比較関数を使います。
```js
const numbers = [10,2,5];
numbers.sort((a, b) => a - b);
console.log(numbers); // [2, 5, 10]
```
降順にしたいときは`b-a`に変更します。

## 10. `slice()`
配列の一部を取り出す**非破壊メソッド**です。

基本構文：
```js
array.slice(start,end);
```
`start` : 取り出し開始位置（含む）
`end` : 取り出し終了位置**（含まない）**

```js
const nums = [10, 20, 30, 40, 50];
const part = nums.slice(1,4);

console.log(part); //[20, 30, 40]
```
`end`を省略すると最後まで含まれ、`start`を省略すると先頭から分割されます。

負の値を指定すると後ろから数えることができます。（slice(-2) : 最後の二つ）

## 11. `splice()`
配列を直接変更して要素を追加・削除する**破壊的メソッド**です。
```js
array.splice(start, deleteCount, item1, item2, ...)
```
- `start` : 変更を始める位置（インデックス）
- `deleteCount` : 削除する要素の個数
- `item1, item2, ...` : 代わりに挿入する要素で省略可能です。
```js
const colors = ["red", "green", "blue", "yellow"];
const removed = colors.splice(1, 2, "purple", "red"); 

console.log(removed); // ["green", "blue"]←削除された要素
console.log(colors); // ["red", "purple", "red", "yellow"]
```

## 12. `concat()`
配列を結合して新しい配列を作る**非破壊メソッド**です。もとの配列は変更されずに残ります。
基本構文：
```js
const newArray = array.concat(value1,value2, ...)
```
- `value`は配列でも単一の値でもOKです。
```js
const a = [1, 2];
const b = [3, 4];

const result = a.concat(b, 5);

console.log(result); // [1, 2, 3, 4, 5]
console.log(a);      // [1, 2] ← 元の配列はそのまま
```

## 13. `join()`
配列の中身を**文字列に変換する**非破壊メソッドです。
基本構文：
```js
const result = array.join(separator);
```
- `separator` : 区切り文字の指定。この文字を使って全ての要素を繋ぎます。デフォルトでは`,`(コンマ)が指定されています。
- もとの配列は変更されない**非破壊的なメソッド**です。
```js
const fruits = ["apple", "banana", "orange"];

console.log(fruits.join());       // "apple,banana,orange"
console.log(fruits.join(" / "));  // "apple / banana / orange"
console.log(fruits.join(""));     // "applebananaorange"
```

## 14. `toSorted()`/`toReversed()`
並び替えた新しい配列を返す非破壊メソッドです。`sort()`や`reverse()`の非破壊版です。
基本構文：
```js
const newArray = array.toSorted(/*比較関数*/);
const newArray = array.toReversed(/*比較関数*/);

```
例：
```js
const numbers = [3, 1, 4];

const sorted = numbers.toSorted((a, b) => a - b);

console.log(sorted);  // [1, 3, 4]
console.log(numbers); // [3, 1, 4] ← 元の配列そのまま！

const nums = [1, 2, 3];
const reversed = nums.toReversed();

console.log(reversed); // [3, 2, 1]
console.log(nums);     // [1, 2, 3]

```
